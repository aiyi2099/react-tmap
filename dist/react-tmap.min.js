!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["react-tmap"]=e(require("react")):t["react-tmap"]=e(t.React)}(window,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.fomatFloat=e.toFixedNumber=e.clear=e.getMapSize=e.getPolygonAreaCenter=e.isCrossingPolygonal=e.getCrossingPolygonal=e.hasNoneCrossingLinePolygonal=e.toPascal=e.pointToLatLng=e.getAddressByPosition=e.convertorPointsToPath=e.getAddressByLatLng=void 0,e.getAddressByPosition=function(t){var e=t.lat,n=t.lng;return r(i({lat:e,lng:n}))};var r=function(t){return new Promise(function(e){new qq.maps.Geocoder({complete:function(t){return e(t)}}).getAddress(t)})};e.getAddressByLatLng=r,e.convertorPointsToPath=function(t){return t.map(function(t){return i(t)})};var i=function(t){var e=t.lat,n=t.lng;return new qq.maps.LatLng(e,n)};e.pointToLatLng=i,e.toPascal=function(t){return t&&0!==t.length?"".concat(t[0].toUpperCase()).concat(t.substr(1)):""};var a=function(t,e){return t.x*e.y-t.y*e.x},u=function(t,e){var n=o(t,2),r=n[0],i=n[1],u=o(e,2),s=u[0],c=u[1],l={x:r.x-s.x,y:r.y-s.y},f={x:i.x-s.x,y:i.y-s.y},p={x:c.x-s.x,y:c.y-s.y},h=a(l,p)*a(f,p);return l={x:s.x-r.x,y:s.y-r.y},f={x:c.x-r.x,y:c.y-r.y},p={x:i.x-r.x,y:i.y-r.y},!!(h<=0&&a(l,p)*a(f,p)<=0)};e.hasNoneCrossingLinePolygonal=function(t){var e=s(t);return!e.some(function(t,n){return e.filter(function(t,o){return Math.abs(o-n)>=2&&Math.abs(o-n)<e.length-1}).some(function(e){return u(t,e)})})};var s=function(t){var e=[];return t&&t.length&&t.forEach(function(n,o){e.push([n,t[o+1===t.length?0:o+1]])}),e},c=function(t){var e=o(t,2),n=e[0],r=e[1],i=s(n),a=s(r);return i.some(function(t){return a.some(function(e){return u(t,e)})})};function l(t,e,n){return(t.x*e.y+e.x*n.y+n.x*t.y-e.x*t.y-n.x*e.y-t.x*n.y)/2}e.isCrossingPolygonal=c,e.getCrossingPolygonal=function(t){var e=[],n=[];if(t&&Array.isArray(t)&&t.length>1){for(var o=0,r=t.length;o<r-1;o++)for(var i=o+1;i<r;i++)e.push({index:[o,i],polygonal:[t[o],t[i]]});e.forEach(function(t){var e=t.polygonal,o=t.index;c(e)&&n.push(o)})}return n},e.getPolygonAreaCenter=function(t){for(var e,n,o=0,r=0,i=0,a=t[1],u=2;u<t.length;u++)e=t[u],i+=n=l(t[0],a,e),o+=(t[0].x+a.x+e.x)*n,r+=(t[0].y+a.y+e.y)*n,a=e;return{x:o/i/3,y:r/i/3}},e.getMapSize=function(t){var e=t.container;return{width:e.clientWidth,height:e.clientHeight}},e.clear=function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.toFixedNumber=function(t,e){var n=Math.pow(10,e);return Math.round(t*n/n)},e.fomatFloat=function(t,e){var n=((arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.round:Math.floor)(t*Math.pow(10,e))/Math.pow(10,e)).toString();n.indexOf(".")<0&&(n+=".");for(var o=n.length-n.indexOf(".");o<=e;o++)n+="0";return n}},function(t,e,n){t.exports=n(12)()},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(2));function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return c(s(s(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}(this,(t=a(e)).call.apply(t,[this].concat(i))))),"bindEvent",function(t,e){var o=s(s(n));e.length&&e.forEach(function(e){if("[object Array]"===Object.prototype.toString.call(e)&&e[1]){var n=e[0];qq.maps.event.addListenerOnce(t,n,function(e){o.props.events&&o.props.events[n]&&o.props.events[n].call(o,t,e)})}else qq.maps.event.addListener(t,e,function(n){o.props.events&&o.props.events[e]&&o.props.events[e].call(o,t,n)})})}),c(s(s(n)),"bindToggleMeghods",function(t,e){for(var o in e)void 0!==n.props[o]&&(n.props[o]?t[e[o][0]]():t[e[o][1]]())}),c(s(s(n)),"getOptions",function(t){var e={};return t.forEach(function(t){void 0!==n.props[t]&&(e[t]=n.props[t])}),e}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,o.default.Component),function(t,e,n){e&&i(t.prototype,e)}(e,[{key:"render",value:function(){return null}}]),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(3)),r=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return l(c(c(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}(this,(t=u(e)).call.apply(t,[this].concat(r))))),"initialize",function(){n.props.map&&(n.destroy(),n.overlay=n.getOverlay(),n.overlay&&n.bindEvent(n.overlay,n.events))}),l(c(c(n)),"_getOptions",function(){return{}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o.default),function(t,e,n){e&&a(t.prototype,e)}(e,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"componentDidUpdate",value:function(t){var e=this,n=this.options||[],o=this._getOptions();this.overlay&&n.forEach(function(n){var i="set".concat((0,r.toPascal)(n));e.props[n]!==t[n]&&e.overlay[i]&&e.overlay[i](o[n])})}},{key:"destroy",value:function(){this.overlay&&(this.overlay.setMap(null),this.overlay=null)}},{key:"getOverlay",value:function(){return null}},{key:"render",value:function(){return null}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(25));function r(t,e){o.default.bind(this)(),this._options=e||{},this._data=[],t&&this.add(t)}r.prototype=o.default.prototype,r.prototype.add=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++){if(t[n].time&&14==t[n].time.length&&"20"==t[n].time.substr(0,2)){var r=t[n].time;t[n].time=new Date(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2)+" "+r.substr(8,2)+":"+r.substr(10,2)+":"+r.substr(12,2)).getTime()}this._data.push(t[n])}else{if(!(t instanceof Object))throw new Error("Unknown dataType");this._data.push(t)}this._dataCache=JSON.parse(JSON.stringify(this._data))},r.prototype.reset=function(){this._data=JSON.parse(JSON.stringify(this._dataCache))},r.prototype.get=function(t){t=t||{},new Date;var e=this._data;if(new Date,t.filter){for(var n=[],o=0;o<e.length;o++)t.filter(e[o])&&n.push(e[o]);e=n}return t.transferCoordinate&&(e=this.transferCoordinate(e,t.transferCoordinate,t.fromColumn,t.toColumn)),e},r.prototype.set=function(t){this._set(t),this._trigger("change")},r.prototype._set=function(t){this.clear(),this.add(t)},r.prototype.clear=function(t){this._data=[]},r.prototype.remove=function(t){},r.prototype.update=function(t,e){for(var n=this._data,o=0;o<n.length;o++)if(e){var r=!0;for(var i in e)n[o][i]!=e[i]&&(r=!1);r&&t&&t(n[o])}else t&&t(n[o]);this._dataCache=JSON.parse(JSON.stringify(this._data)),this._trigger("change")},r.prototype.transferCoordinate=function(t,e,n,o){o=o||"_coordinates",n=n||"coordinates";for(var r=0;r<t.length;r++){var i=t[r].geometry,a=i[n];switch(i.type){case"Point":i[o]=e(a);break;case"LineString":for(var u=[],s=0;s<a.length;s++)u.push(e(a[s]));i[o]=u;break;case"Polygon":u=f(a),i[o]=u;break;case"MultiPolygon":u=[];for(var c=0;c<a.length;c++){var l=f(l=a[c]);u.push(l)}i[o]=u}}function f(t){for(var n=[],o=0;o<t.length;o++){for(var r=t[o],i=[],a=0;a<r.length;a++)i.push(e(r[a]));n.push(i)}return n}return t},r.prototype.initGeometry=function(t){t?this._data.forEach(function(e){e.geometry=t(e)}):this._data.forEach(function(t){t.geometry||t.lng&&t.lat&&(t.geometry={type:"Point",coordinates:[t.lng,t.lat]})})},r.prototype.getMax=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var n=parseFloat(e[0][t]),o=1;o<e.length;o++){var r=parseFloat(e[o][t]);r>n&&(n=r)}return n}},r.prototype.getSum=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var n=0,o=0;o<e.length;o++)e[o][t]&&(n+=parseFloat(e[o][t]));return n}},r.prototype.getMin=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var n=parseFloat(e[0][t]),o=1;o<e.length;o++){var r=parseFloat(e[o][t]);r<n&&(n=r)}return n}},r.prototype.getUnique=function(t){if((o=this._data)&&!(o.length<=0)){for(var e={},n=1;n<o.length;n++)e[o[n][t]]=!0;var o=[];for(var r in e)o.push(r);return o}};var i=r;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlPosition=e.ANIMATION_UP=e.ANIMATION_DOWN=e.ANIMATION_BOUNCE=e.ANIMATION_DROP=void 0;var o=qq.maps.MarkerAnimation.DROP;e.ANIMATION_DROP=o;var r=qq.maps.MarkerAnimation.BOUNCE;e.ANIMATION_BOUNCE=r;var i=qq.maps.MarkerAnimation.DOWN;e.ANIMATION_DOWN=i;var a=qq.maps.MarkerAnimation.UP;e.ANIMATION_UP=a;var u=[qq.maps.ControlPosition.TOP_LEFT,qq.maps.ControlPosition.TOP_CENTER,qq.maps.ControlPosition.TOP_RIGHT,qq.maps.ControlPosition.BOTTOM_LEFT,qq.maps.ControlPosition.BOTTOM_CENTER,qq.maps.ControlPosition.BOTTOM_RIGHT,qq.maps.ControlPosition.LEFT_TOP,qq.maps.ControlPosition.LEFT_CENTER,qq.maps.ControlPosition.LEFT_BOTTOM,qq.maps.ControlPosition.RIGHT_TOP,qq.maps.ControlPosition.RIGHT_CENTER,qq.maps.ControlPosition.RIGHT_BOTTOM,qq.maps.ControlPosition.CENTER];e.ControlPosition=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(1)),r=n(0),i=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return p(f(f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,(t=c(e)).call.apply(t,[this].concat(i))))),"_getOptions",function(){var t=n.props,e=t.decoration,o=t.icon,i=t.color,a=n.getOptions(n.options);return a.position=(0,r.pointToLatLng)(a.position),e&&(a.decoration=new qq.maps.MarkerDecoration('<div style="color: '.concat(i,'"><span class="content">').concat(e,"</span></div>"),new qq.maps.Point(0,-5))),!o||o instanceof qq.maps.MarkerImage||(a.icon=new qq.maps.MarkerImage(o)),a}),p(f(f(n)),"getOverlay",function(){var t=n.props,e=t.map,o=t.visible;if(!e)return null;var r=n._getOptions();return n.marker||(n.marker=new qq.maps.Marker(r)),o?n.marker.setMap(e):n.marker.setMap(null),n.marker}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i.default),function(t,e,n){e&&s(t.prototype,e)}(e,[{key:"events",get:function(){return["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","map_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed","click","mousedown","mouseup","mouseover","mouseout","dblclick","rightclick","dragstart","dragging","dragend","moving","moveend"]}},{key:"options",get:function(){return["animation","clickable","draggable","flat","cursor","icon","size","shadow","shape","title","visible","zIndex","map","color","position","rotation","autoRotation","decoration"]}}]),e}();e.default=h,p(h,"defaultProps",{decoration:null,visible:!0,color:"#fff"}),p(h,"propTypes",{position:o.default.shape({lat:o.default.number,lng:o.default.number})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(28));function r(t){t=t||{},this.gradient=t.gradient,this.maxSize=t.maxSize||35,this.minSize=t.minSize||0,this.max=t.max||100,this.min=t.min||0,this.initPalette()}r.prototype.setMax=function(t){this.max=t||100},r.prototype.setMin=function(t){this.min=t||0},r.prototype.setMaxSize=function(t){this.maxSize=t||35},r.prototype.setMinSize=function(t){this.minSize=t||0},r.prototype.initPalette=function(){var t=this.gradient,e=new o.default(256,1),n=this.paletteCtx=e.getContext("2d"),r=n.createLinearGradient(0,0,256,1);t.forEach(function(t){var e=t.color;"[object Array]"===Object.prototype.toString.call(e)&&(e=e[0]),r.addColorStop(parseFloat(t.key),e)}),n.fillStyle=r,n.fillRect(0,0,256,1)},r.prototype.getColor=function(t){var e=this.getImageData(t);return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},r.prototype.getImageData=function(t){var e=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===t)return e;var n=this.max,o=this.min;t>n&&(t=n),t<o&&(t=o);var r=4*Math.floor((t-o)/(n-o)*255);return[e[r],e[r+1],e[r+2],e[r+3]]},r.prototype.getSize=function(t){var e=this.max,n=this.min,o=this.maxSize,r=this.minSize;return t>e&&(t=e),t<n&&(t=n),r+(t-n)/(e-n)*(o-r)},r.prototype.getLegend=function(t){var e=this.gradient,n=t.width||20,r=t.height||180,i=new o.default(n,r),a=i.getContext("2d"),u=a.createLinearGradient(0,r,0,0);for(var s in console.log(e),e)u.addColorStop(parseFloat(s),e[s]);return a.fillStyle=u,a.fillRect(0,0,n,r),i},r.prototype.getTextColor=function(t,e){return t.find(function(t){if(e>=t.start&e<=t.end)return t.value})};var i=r;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gradient=void 0,e.gradient=[{key:.1,color:["#cbe6ff","#0e3ca1"]},{key:.2,color:["#add7ff","#0e3ca1"]},{key:.3,color:["#87c1ff","#0e3ca1"]},{key:.4,color:["#60a8ff","#0e3ca1"]},{key:.5,color:"#338bff"},{key:.6,color:"#0d6be3"},{key:.7,color:"#0752c9"},{key:.8,color:"#0e3ca1"},{key:.9,color:"#022277"},{key:1,color:"#01164b"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"QMap",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"HeatMap",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"MarkerList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Info",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Control",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"ControlPosition",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"GridHeatmap",{enumerable:!0,get:function(){return y.GridHeatmap}}),e.config=e.utils=void 0;var o=m(n(11)),r=m(n(14)),i=m(n(7)),a=m(n(15)),u=m(n(16)),s=m(n(17)),c=m(n(18)),l=m(n(19)),f=m(n(20)),p=m(n(21)),h=v(n(0));e.utils=h;var d=v(n(6));e.config=d;var y=n(22);function v(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n(2)),r=u(n(3)),i=u(n(1)),a=n(0);function u(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return h(p(p(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?p(t):e}(this,(t=l(e)).call.apply(t,[this].concat(i))))),"initMap",function(){var t=n.getOptions(n.options);t.center=(0,a.pointToLatLng)(t.center),n.map=new qq.maps.Map(n.mapNode,t),n.bindEvent(n.map,n.events)}),h(p(p(n)),"onRender",function(){if(n.props.render&&n.map)return n.props.render(n.map)}),h(p(p(n)),"renderChildren",function(){var t=n.props.children;if(t&&n.map)return o.default.Children.map(t,function(t){if(t)return"string"==typeof t?t:o.default.cloneElement(t,{map:n.map})})}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r.default),function(t,e,n){e&&c(t.prototype,e)}(e,[{key:"componentDidMount",value:function(){this.initMap(),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.map=null}},{key:"componentDidUpdate",value:function(t){var e=t.center,n=t.zoom,o=(0,a.pointToLatLng)(this.props.center);n!==this.props.zoom&&this.map.zoomTo(this.props.zoom),e!==this.props.center&&this.map.panTo(o)}},{key:"render",value:function(){var t=this,e=this.props.style;return o.default.createElement("div",{className:"qmap-container",style:e},o.default.createElement("div",{ref:function(e){return t.mapNode=e},className:this.props.className,style:{height:"100%",width:"100%"}},"加载地图中...",this.renderChildren(),this.onRender()))}},{key:"events",get:function(){return["click","dblclick","rightclick","mouseover","mouseout","mousemove","drag","dragstart","dragend","longpress","bounds_changed","center_changed","zoom_changed","maptypeid_changed","projection_changed",["idle",!0],"tilesloaded","resize"]}},{key:"options",get:function(){return["center","zoom","minZoom","maxZoom","mapZoomType","noClear","backgroundColor","boundary","draggableCursor","mapTypeId","draggable","scrollwheel","disableDoubleClickZoom","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","panControl","panControlOptions","zoomControl","zoomControlOptions","scaleControl","scaleControlOptions"]}}]),e}();h(d,"defaultProps",{style:{height:"600px"}}),h(d,"propTypes",{center:i.default.shape({lat:i.default.number,lng:i.default.number})});var y=d;e.default=y},function(t,e,n){"use strict";var o=n(13);function r(){}t.exports=function(){function t(t,e,n,r,i,a){if(a!==o){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(2)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return f(l(l(n=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?l(t):e}(this,(t=s(e)).call.apply(t,[this].concat(r))))),"initHeatMap",function(){var t=n.props,e=t.options,o=t.heatData,r=t.map;r&&qq.maps.event.addListenerOnce(r,"idle",function(){n.heatMap=new QQMapPlugin.HeatmapOverlay(r,e),n.heatMap.setData(o)})}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.default.Component),function(t,e,n){e&&u(t.prototype,e)}(e,[{key:"componentDidMount",value:function(){this.initHeatMap()}},{key:"componentDidUpdate",value:function(t){t.heatData.data!==this.props.heatData.data&&this.heatMap&&this.heatMap.setData(this.props.heatData)}},{key:"render",value:function(){return null}}]),e}();e.default=p,f(p,"defaultProps",{options:{radius:1,maxOpacity:.8,useLocalExtrema:!0,valueField:"count"},heatData:{max:100,data:[]}}),f(p,"propTypes",{options:r.default.object,heatData:r.default.shape({max:r.default.number,data:r.default.arrayOf(r.default.object)})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n(2)),r=u(n(1)),i=u(n(7)),a=n(6);function u(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,f(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o.default.Component),function(t,e,n){e&&l(t.prototype,e)}(e,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.showDecoration,r=function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,["data","showDecoration"]);return e.map(function(t,e){var a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){h(t,e,n[e])})}return t}({},r);return a.position=t,n&&(a.decoration=t.decoration?t.decoration:e+1),o.default.createElement(i.default,c({key:e},a))})}}]),e}();e.default=d,h(d,"defaultProps",{data:[],animation:a.ANIMATION_DROP,showDecoration:!0}),h(d,"propTypes",{data:r.default.arrayOf(r.default.shape({lat:r.default.number,lng:r.default.number}))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(1)),r=a(n(3)),i=n(0);function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return p(f(f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,(t=c(e)).call.apply(t,[this].concat(r))))),"initInfo",function(){var t=n.props,e=t.map,o=t.visible,r=t.position,a=r.lat,u=r.lng,s=(0,i.pointToLatLng)({lat:a,lng:u}),c=n.getOptions(n.options);if(c.position=s,e){n.info||(n.info=new qq.maps.InfoWindow(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){p(t,e,n[e])})}return t}({},c,{map:e})),n.bindEvent(n.info,n.events));var l='<div style="width: 100%;max-width: 300px;text-align:left;">'.concat(c.content,"</div>");n.info.setPosition(s),n.info.setContent(l),o?n.info.open():n.info.close()}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),function(t,e,n){e&&s(t.prototype,e)}(e,[{key:"componentDidMount",value:function(){this.initInfo()}},{key:"componentDidUpdate",value:function(){this.initInfo()}},{key:"render",value:function(){return null}},{key:"events",get:function(){return["content_changed","position_changed","zindex_changed","domready","closeclick"]}},{key:"options",get:function(){return["content","position","zIndex","visible"]}}]),e}();e.default=h,p(h,"defaultProps",{visible:!1,position:{},content:"测试"}),p(h,"propTypes",{visible:o.default.bool,position:o.default.shape({lat:o.default.number,lng:o.default.number}),content:o.default.any})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(4)),r=a(n(1)),i=n(0);function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return p(f(f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,(t=c(e)).call.apply(t,[this].concat(r))))),"_getOptions",function(){var t=n.props.center,e=n.getOptions(n.options);return e.center=(0,i.pointToLatLng)(t),e}),p(f(f(n)),"getOverlay",function(){var t=n.props,e=t.map,o=t.visible,r=n._getOptions();if(e)return n.circle&&n.circle.setMap(null),n.circle=new qq.maps.Circle(r),o?n.circle.setMap(e):n.circle.setMap(null),n.circle}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),function(t,e,n){e&&s(t.prototype,e)}(e,[{key:"events",get:function(){return["center_changed","map_changed","radius_changed","visible_changed","zindex_changed","click","dblclick","rightclick","mousedown","mouseup","mouseover","mouseout","mousemove"]}},{key:"options",get:function(){return["center","clickable","cursor","fillColor","map","radius","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex"]}}]),e}();e.default=h,p(h,"defaultProps",{center:{},radius:10,visible:!0}),p(h,"propTypes",{center:r.default.shape({lat:r.default.number,lng:r.default.number}).isRequired,radius:r.default.number.isRequired})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(1)),r=n(0),i=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return p(f(f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,(t=c(e)).call.apply(t,[this].concat(i))))),"setPoints",function(t){var e=(0,r.convertorPointsToPath)(t);n.polyline&&n.polyline.setPath(e)}),p(f(f(n)),"_getOptions",function(){var t=n.props.points,e=(0,r.convertorPointsToPath)(t),o=n.getOptions(n.options);return o.path=e,o}),p(f(f(n)),"getOverlay",function(){var t=n.props,e=t.visible,o=t.map,r=n._getOptions();if(o)return n.polyline||(n.polyline=new qq.maps.Polyline(r),n.polyline.setPoints=n.setPoints),e?n.polyline.setMap(o):n.polyline.setMap(null),n.polyline}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i.default),function(t,e,n){e&&s(t.prototype,e)}(e,[{key:"render",value:function(){return null}},{key:"events",get:function(){return["map_changed","visible_changed","zindex_changed","click","dblclick","rightclick","mousedown","mouseup","mouseover","mouseout","mousemove","insertNode","removeNode","adjustNode"]}},{key:"options",get:function(){return["clickable","cursor","editable","map","path","points","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex"]}}]),e}();e.default=h,p(h,"defaultProps",{points:[],visible:!1}),p(h,"propTypes",{points:o.default.arrayOf(o.default.shape({lat:o.default.number,lng:o.default.number})),visible:o.default.bool})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(1)),r=n(0),i=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return p(f(f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,(t=c(e)).call.apply(t,[this].concat(i))))),"setPoints",function(t){var e=(0,r.convertorPointsToPath)(t);n.polygon&&n.polygon.setPath(e)}),p(f(f(n)),"_getOptions",function(){var t=n.props.points,e=(0,r.convertorPointsToPath)(t),o=n.getOptions(n.options);return o.path=e,o}),p(f(f(n)),"getOverlay",function(){var t=n.props,e=t.visible,o=t.map,r=n._getOptions();if(o)return n.polygon||(n.polygon=new qq.maps.Polygon(r),n.polygon.setPoints=n.setPoints),e?n.polygon.setMap(o):n.polygon.setMap(null),n.polygon}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,i.default),function(t,e,n){e&&s(t.prototype,e)}(e,[{key:"render",value:function(){return null}},{key:"events",get:function(){return["map_changed","visible_changed","zindex_changed","click","dblclick","rightclick","mousedown","mouseup","mouseover","mouseout","mousemove","insertNode","removeNode","adjustNode"]}},{key:"options",get:function(){return["clickable","cursor","editable","fillColor","map","path","points","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex","draggable"]}}]),e}();e.default=h,p(h,"defaultProps",{points:[],visible:!0}),p(h,"propTypes",{points:o.default.arrayOf(o.default.shape({lat:o.default.number,lng:o.default.number})),visible:o.default.bool})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(3)),r=a(n(1)),i=n(6);function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(f(f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,c(e).call(this,t)))),"initialize",function(){n.props.map&&(n.control=n.getControl())}),n.controlNode=void 0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o.default),function(t,e,n){e&&s(t.prototype,e)}(e,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"getControl",value:function(){var t=this.props,e=t.map,n=t.position;if(e&&this.controlNode){var o=e.controls[n];return o.push(this.controlNode),this.control=this.controlNode,this.control.index=o.length,this.control}}}]),e}();e.default=h,p(h,"propTypes",{position:r.default.oneOf(i.ControlPosition)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={TOP_LEFT:qq.maps.ControlPosition.TOP_LEFT,TOP_CENTER:qq.maps.ControlPosition.TOP_CENTER,TOP_RIGHT:qq.maps.ControlPosition.TOP_RIGHT,BOTTOM_LEFT:qq.maps.ControlPosition.BOTTOM_LEFT,BOTTOM_CENTER:qq.maps.ControlPosition.BOTTOM_CENTER,BOTTOM_RIGHT:qq.maps.ControlPosition.BOTTOM_RIGHT,LEFT_TOP:qq.maps.ControlPosition.LEFT_TOP,LEFT_CENTER:qq.maps.ControlPosition.LEFT_CENTER,LEFT_BOTTOM:qq.maps.ControlPosition.LEFT_BOTTOM,RIGHT_TOP:qq.maps.ControlPosition.RIGHT_TOP,RIGHT_CENTER:qq.maps.ControlPosition.RIGHT_CENTER,RIGHT_BOTTOM:qq.maps.ControlPosition.RIGHT_BOTTOM,CENTER:qq.maps.ControlPosition.CENTER};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GridHeatmap",{enumerable:!0,get:function(){return o.default}});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(23))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(n(24)),r=c(n(34)),i=c(n(5)),a=n(0),u=n(9),s=c(n(35));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t,n,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=(0,s.default)(!0,{},{gradient:u.gradient,unit:"m",countField:"count",showText:!0,showTextZoomLevel:16,useLocalExtrema:!0},o),(i=function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,h(e).call(this,t,n,o))).inViewPortCount=0,i.init(o),i._zoom=t.getZoom(),i.options.showText=i._zoom>i.options.showTextZoomLevel,i.canvasLayer=new r.default(t,{context:i.context,paneName:o.paneName,zIndex:o.zIndex,update:function(){return i._canvasUpdate()}}),qq.maps.event.addListener(i.map,"zoom_changed",function(){var t=i.map.getZoom(),e=o.showTextZoomLevel;i.options.showText=t>e}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o.default),function(t,e,n){e&&f(t.prototype,e)}(e,[{key:"clickEvent",value:function(t){var n=t.pixel;p(h(e.prototype),"clickEvent",this).call(this,n,t)}},{key:"mousemoveEvent",value:function(t){var n=t.pixel;p(h(e.prototype),"mousemoveEvent",this).call(this,n,t)}},{key:"bindEvent",value:function(t){this.unbindEvent(),this.options.methods&&(this.options.methods.click&&(this.clickMapHandler=qq.maps.event.addListener(this.map,"click",this.clickEvent)),this.options.methods.mousemove&&(this.mouseMoveMapHandler=qq.maps.event.addListener(this.map,"mousemove",this.mousemoveEvent)))}},{key:"unbindEvent",value:function(t){this.options.methods&&(this.options.methods.click&&qq.maps.event.removeListener(this.clickMapHandler),this.options.methods.mousemove&&qq.maps.event.removeListener(this.mouseMoveMapHandler))}},{key:"setData",value:function(t){var e,n=this;e instanceof i.default||(e=t.map(function(e,o){return{geometry:{type:"Point",coordinates:[e.lng,e.lat]},count:t[o][n.options.countField]}})),this.dataSet.set(e),this.canvasLayer&&this.canvasLayer.draw()}},{key:"updateOptions",value:function(t){console.log(t),this.options=(0,s.default)(!0,this.options,t),console.log(this.options)}},{key:"getContext",value:function(){return this.canvasLayer.canvas?this.canvasLayer.canvas.getContext(this.context):null}},{key:"_canvasUpdate",value:function(){var t=this.map,e=t.getProjection();if(this.canvasLayer&&e){var n=t.getBounds(),o=new qq.maps.LatLng(n.getNorthEast().getLat(),n.getSouthWest().getLng()),r=t.getZoom(),i=this.getContext(),u=Math.pow(2,17-r),s=this.canvasLayer.getProjection(),c=s.fromLatLngToDivPixel(o),l={fromColumn:"coordinates",filter:function(t){var e=t.geometry.coordinates,o=new qq.maps.LatLng(e[1],e[0]);return n.contains(o)},transferCoordinate:function(t){var e=s.fromLatLngToDivPixel(new qq.maps.LatLng(t[1],t[0])),n={x:e.x-c.x,y:e.y-c.y};return[n.x,n.y]}},f=this.dataSet.get(l);if(f.length){if("2d"===this.context)for(var p in this.options)i[p]=this.options[p];else i.clear(i.COLOR_BUFFER_BIT);this.options.minZoom&&t.getZoom()<this.options.minZoom||this.options.maxZoom&&t.getZoom()>this.options.maxZoom||("m"===this.options.unit?this.options.size&&(this.options._size=this.options.size/u,this.options._height=this.options.height/u,this.options._width=this.options.width/u):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.options.zoom=r,(0,a.clear)(i),this.drawContext(i,f,this.options,{x:c.x,y:c.y}))}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.options.choropleth=this.choropleth,this.options.category=this.category,this.options.intensity=this.intensity,this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.options.max&&this.intensity.setMax(this.options.max),this.options.min&&this.intensity.setMin(this.options.min),this.bindEvent()}},{key:"addAnimatorEvent",value:function(){qq.maps.event.addListener(this.map,"movestart",this.animatorMovestartEvent.bind(this)),qq.maps.event.addListener(this.map,"moveend",this.animatorMoveendEvent.bind(this))}}]),e}();e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=l(n(5)),r=l(n(26)),i=l(n(8)),a=l(n(29)),u=l(n(30)),s=l(n(31)),c=l(n(32));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}"undefined"!=typeof window&&requestAnimationFrame(function t(e){requestAnimationFrame(t),r.default.update(e)});var p=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n;i instanceof o.default||(i=n.map(function(t,e){return{geometry:{type:"Point",coordinates:[t.lng,t.lat]},count:n[e][r.countField]}}),i=new o.default(i)),this.dataSet=i,this.map=e}return function(t,e,n){e&&f(t.prototype,e)}(t,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(t){if(this.intensity=new i.default({maxSize:this.options.maxSize,minSize:this.options.minSize,gradient:this.options.gradient,max:this.options.max||this.dataSet.getMax("count")}),this.category=new a.default(this.options.splitList),this.choropleth=new u.default(this.options.splitList),void 0===this.options.splitList&&this.category.generateByDataSet(this.dataSet,this.options.color),void 0===this.options.splitList){var e=this.options.min||this.dataSet.getMin("count"),n=this.options.max||this.dataSet.getMax("count");this.choropleth.generateByMinMax(e,n,this.options.gradient)}}},{key:"getLegend",value:function(t){return"intensity"===this.options.draw||"heatmap"===this.options.draw?this.intensity.getLegend(t):"category"===this.options.draw?this.category.getLegend(t):void 0}},{key:"processData",value:function(t){var e=this.options.draw;if("bubble"===e||"intensity"===e||"category"===e||"choropleth"===e||"simple"===e)for(var n=0;n<t.length;n++){var o=t[n];"bubble"===this.options.draw?t[n]._size=this.intensity.getSize(o.count):t[n]._size=void 0;var r="_fillStyle";"LineString"!==t[n].geometry.type&&"stroke"!==this.options.styleType||(r="_strokeStyle"),"intensity"===this.options.draw?t[n][r]=this.intensity.getColor(o.count):"category"===this.options.draw?t[n][r]=this.category.get(o.count):"choropleth"===this.options.draw&&(t[n][r]=this.choropleth.get(o.count))}}},{key:"isEnabledTime",value:function(){var t=this.options.animation;return t&&!(!1===t.enabled)}},{key:"argCheck",value:function(t){"heatmap"===t.draw&&t.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(t,e,n,o){this.options.offset={x:o.x,y:o.y},s.default.draw(t,e,this.options)}},{key:"isPointInPath",value:function(t,e){this.canvasLayer.canvas.getContext(this.context);for(var n=this.dataSet.get(),o=0;o<n.length;o++){t.beginPath(),c.default.draw(t,n[o],this.options);var r=e.x*this.canvasLayer.devicePixelRatio,i=e.y*this.canvasLayer.devicePixelRatio;if((n[o].geometry&&n[o].geometry.type).indexOf("Polygon")>-1){if(t.isPointInPath(r,i))return n[o]}else if(t.isPointInStroke&&t.isPointInStroke(r,i))return n[o]}}},{key:"clickEvent",value:function(t,e){if(this.options.methods){var n=this.isPointInPath(this.getContext(),t);n?this.options.methods.click(n,e):this.options.methods.click(null,e)}}},{key:"mousemoveEvent",value:function(t,e){if(this.options.methods){var n=this.isPointInPath(this.getContext(),t);n?this.options.methods.mousemove(n,e):this.options.methods.mousemove(null,e)}}},{key:"update",value:function(t,e){var n=t.options,o=this.options;for(var r in n)o[r]=n[r];this.init(o),!1!==e&&this.draw()}},{key:"setOptions",value:function(t){this.dataSet.reset(),this.init(t),this.draw()}},{key:"set",value:function(t){var e=this.getContext(),n=this.getDefaultContextConfig();for(var o in n)e[o]=n[o];this.init(t.options),this.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var t=this,e=t.options.animation;if("time"===t.options.draw||t.isEnabledTime()){e.stepsRange||(e.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:e.stepsRange.start},t.animator=new r.default.Tween(this.steps).onUpdate(function(){t._canvasUpdate(this.step)}).repeat(1/0),this.addAnimatorEvent();var n=1e3*e.duration||5e3;t.animator.to({step:e.stepsRange.end},n),t.animator.start()}else t.animator&&t.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}}]),t}();e.default=p},function(t,e,n){"use strict";function o(){this._subscribers={}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o.prototype.on=function(t,e){var n=this._subscribers[t];n||(n=[],this._subscribers[t]=n),n.push({callback:e})},o.prototype.off=function(t,e){var n=this._subscribers[t];if(n)for(var o=0;o<n.length;o++)n[o].callback===e&&(n.splice(o,1),o--)},o.prototype._trigger=function(t,e,n){if("*"===t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var r=0,i=o.length;r<i;r++){var a=o[r];a.callback&&a.callback(t,e,n||null)}};var r=o;e.default=r},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=n||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e,o){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:n.now();r<t.length;)t[r].update(e)||o?r++:t.splice(r,1);return!0}}}();"undefined"==typeof window&&void 0!==t?n.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?n.now=window.performance.now.bind(window.performance):void 0!==Date.now?n.now=Date.now:n.now=function(){return(new Date).getTime()},n.Tween=function(t){var e,o=t,r={},i={},a={},u=1e3,s=0,c=!1,l=!1,f=!1,p=0,h=null,d=n.Easing.Linear.None,y=n.Interpolation.Linear,v=[],m=null,b=!1,g=null,O=null,_=null;this.to=function(t,e){return i=t,void 0!==e&&(u=e),this},this.start=function(t){for(var e in n.add(this),l=!0,b=!1,h=void 0!==t?t:n.now(),h+=p,i){if(i[e]instanceof Array){if(0===i[e].length)continue;i[e]=[o[e]].concat(i[e])}void 0!==o[e]&&(r[e]=o[e],r[e]instanceof Array==0&&(r[e]*=1),a[e]=r[e]||0)}return this},this.stop=function(){return l?(n.remove(this),l=!1,null!==_&&_.call(o,o),this.stopChainedTweens(),this):this},this.end=function(){return this.update(h+u),this},this.stopChainedTweens=function(){for(var t=0,e=v.length;t<e;t++)v[t].stop()},this.delay=function(t){return p=t,this},this.repeat=function(t){return s=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return c=t,this},this.easing=function(t){return d=t,this},this.interpolation=function(t){return y=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return m=t,this},this.onUpdate=function(t){return g=t,this},this.onComplete=function(t){return O=t,this},this.onStop=function(t){return _=t,this},this.update=function(t){var n,l,_;if(t<h)return!0;for(n in!1===b&&(null!==m&&m.call(o,o),b=!0),_=d(l=(l=(t-h)/u)>1?1:l),i)if(void 0!==r[n]){var w=r[n]||0,P=i[n];P instanceof Array?o[n]=y(P,_):("string"==typeof P&&(P="+"===P.charAt(0)||"-"===P.charAt(0)?w+parseFloat(P):parseFloat(P)),"number"==typeof P&&(o[n]=w+(P-w)*_))}if(null!==g&&g.call(o,_),1===l){if(s>0){for(n in isFinite(s)&&s--,a){if("string"==typeof i[n]&&(a[n]=a[n]+parseFloat(i[n])),c){var T=a[n];a[n]=i[n],i[n]=T}r[n]=a[n]}return c&&(f=!f),h=void 0!==e?t+e:t+p,!0}null!==O&&O.call(o,o);for(var x=0,M=v.length;x<M;x++)v[x].start(h+u);return!1}return!0}},n.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-n.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Easing.Bounce.In(2*t):.5*n.Easing.Bounce.Out(2*t-1)+.5}}},n.Interpolation={Linear:function(t,e){var o=t.length-1,r=o*e,i=Math.floor(r),a=n.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],r):e>1?a(t[o],t[o-1],o-r):a(t[i],t[i+1>o?o:i+1],r-i)},Bezier:function(t,e){for(var o=0,r=t.length-1,i=Math.pow,a=n.Interpolation.Utils.Bernstein,u=0;u<=r;u++)o+=i(1-e,r-u)*i(e,u)*t[u]*a(r,u);return o},CatmullRom:function(t,e){var o=t.length-1,r=o*e,i=Math.floor(r),a=n.Interpolation.Utils.CatmullRom;return t[0]===t[o]?(e<0&&(i=Math.floor(r=o*(1+e))),a(t[(i-1+o)%o],t[i],t[(i+1)%o],t[(i+2)%o],r-i)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[o]-(a(t[o],t[o],t[o-1],t[o-1],r-o)-t[o]):a(t[i?i-1:0],t[i],t[o<i+1?o:i+1],t[o<i+2?o:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var o=n.Interpolation.Utils.Factorial;return o(t)/o(e)/o(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var o=e;o>1;o--)n*=o;return t[e]=n,n}}(),CatmullRom:function(t,e,n,o,r){var i=.5*(n-t),a=.5*(o-e),u=r*r;return(2*e-2*n+i+a)*(r*u)+(-3*e+3*n-2*i-a)*u+i*r+e}}};var o=n;e.default=o}).call(this,n(27))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var s,c=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=u(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=document.createElement("canvas");return e&&(o.width=e),n&&(o.height=n),o}},function(t,e,n){"use strict";function o(t){this.splitList=t||{other:1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o.prototype.get=function(t){var e=this.splitList,n=e.other;for(var o in e)if(t==o){n=e[o];break}return n},o.prototype.generateByDataSet=function(t,e){var n=e||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],o=t.get();this.splitList={};for(var r=0,i=0;i<o.length&&(void 0===this.splitList[o[i].count]&&(this.splitList[o[i].count]=n[r],r++),!(r>=n.length-1));i++);this.splitList.other=n[n.length-1]},o.prototype.getLegend=function(t){var e=this.splitList,n=document.createElement("div");n.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var o="";for(var r in e)o+='<div style="line-height: 19px;" value="'+r+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+e[r]+';"></span><span style="margin-left: 3px;">'+r+"<span></div>";return n.innerHTML=o,n};var r=o;e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(9);function r(t){this.splitList=t||[{start:0,value:"red"}]}r.prototype.get=function(t){for(var e=this.splitList,n=!1,o=0;o<e.length;o++)if((void 0===e[o].start||void 0!==e[o].start&&t>=e[o].start)&&(void 0===e[o].end||void 0!==e[o].end&&t<e[o].end)){n=e[o].value;break}return n},r.prototype.generateByDataSet=function(t,e){var n=t.getMin("count"),o=t.getMax("count");this.generateByMinMax(n,o,e)},r.prototype.generateByMinMax=function(t,e,n){var r=n||o.gradient,i=Number(Math.ceil((e-t)/r.length));e=Number(e);var a=Number(t);this.splitList=[];for(var u=0;a<e;)this.splitList.push({start:a,end:a+i,value:r[u]}),u++,a+=i},r.prototype.getLegend=function(t){return this.splitList};var i=r;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(8)),r=i(n(5));function i(t){return t&&t.__esModule?t:{default:t}}var a={draw:function(t,e,n){t.save();var i,a={},u=e instanceof r.default?e.get():e,s=n._size||n.size||50,c=n.choropleth,l=n.intensity,f=n.useLocalExtrema,p=n._width,h=n._height,d=p||s,y=h||s,v=n.offset||{x:0,y:0};"px"===n.unit&&(d=y=s);for(var m=0;m<u.length;m++){var b=u[m].geometry._coordinates||u[m].geometry.coordinates,g=(b[0]-v.x)/d,O=(b[1]-v.y)/y;"m"!==n.unit&&(g=Math.floor(g),O=Math.floor(O));var _=g+","+O;a[_]||(a[_]=0),a[_]+=~~(u[m].count||1)}for(var w in f&&(i=function(t){var e=0,n=0;return Object.keys(t).forEach(function(o,r){var i=t[o];i>e&&(e=i),r>0?i<n&&(n=i):n=t[o]}),{min:n,max:e}}(a),l=new o.default({max:i.max,min:i.min,gradient:n.gradient}),c.generateByMinMax(i.min,i.max,n.gradient)),a)w=w.split(","),t.beginPath(),t.rect(w[0]*d+v.x-d/2,w[1]*y+v.y-y/2,d,y),t.fillStyle=l.getColor(a[w]),t.fill(),n.strokeStyle&&n.lineWidth&&t.stroke();if(n.label&&!1!==n.label.show&&(t.fillStyle=n.label.fillStyle||"white",n.label.font&&(t.font=n.label.font),n.label.shadowColor&&(t.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(t.shadowBlur=n.label.shadowBlur),n.showText&&c.getLegend().length))for(var P in a){var T=a[P=P.split(",")],x=l.getTextColor(c.getLegend(),T).value.color;"[object Array]"===Object.prototype.toString.call(x)&&2===x.length&&(t.fillStyle=x[1]);var M=t.measureText(T).width;t.fillText(T,P[0]*d+v.x-M/2,P[1]*y+v.y+5)}t.restore()}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(5)),r=n(33),i={drawDataSet:function(t,e,n){for(var r=e instanceof o.default?e.get():e,i=0,a=r.length;i<a;i++){var u=r[i];this.draw(t,u,n)}},draw:function(t,e,n){var o=e.geometry.type,i=e.geometry._coordinates||e.geometry.coordinates,a=n.symbol||"circle";switch(o){case"Point":var u=e._size||e.size||n._size||n.size||5;"circle"===a?("Point"===n.bigData&&t.moveTo(i[0],i[1]),t.arc(i[0],i[1],u,0,2*Math.PI)):"rect"===a?t.rect(i[0]-u/2,i[1]-u/2,u,u):"honeycomb"===a&&(0,r.draw)(t,i[0],i[1],u);break;case"LineString":for(var s=0;s<i.length;s++){var c=i[s][0],l=i[s][1];0==s?t.moveTo(c,l):t.lineTo(c,l)}break;case"Polygon":this.drawPolygon(t,i);break;case"MultiPolygon":for(var f=0;f<i.length;f++){var p=i[f];this.drawPolygon(t,p),n.multiPolygonDraw&&n.multiPolygonDraw()}break;default:console.log("type"+o+"is not support now!")}},drawPolygon:function(t,e){t.beginPath();for(var n=0;n<e.length;n++){var o=e[n];t.moveTo(o[0][0],o[0][1]);for(var r=1;r<o.length;r++)t.lineTo(o[r][0],o[r][1]);t.lineTo(o[0][0],o[0][1]),t.closePath()}}};e.default=i},function(t,e,n){"use strict";function o(t,e,n){var o=60*n+30,r=Math.PI/180*o;return[t.x+e*Math.cos(r),t.y+e*Math.sin(r)]}Object.defineProperty(e,"__esModule",{value:!0}),e.draw=function(t,e,n,r){for(var i=0;i<6;i++){var a=o({x:e,y:n},r,i);t.lineTo(a[0],a[1])}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(0);function r(t,e){this.setMap(t),this.options=e||{},this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,qq.maps.Overlay.call(this)}var i="undefined"==typeof window?{}:window;r.prototype=new qq.maps.Overlay,r.CSS_TRANSFORM=function(){for(var t=document.createElement("div"),e=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<e.length;n++){var o=e[n];if(void 0!==t.style[o])return o}return e[0]}(),r.prototype.construct=function(){var t=this,e=(0,o.getMapSize)(this.map),n=this.canvas=document.createElement("canvas");n.style.cssText="width: ".concat(e.width,"px;height: ").concat(e.height,"px;position: relative;z-index: ").concat(this.zIndex),this.resize(),this.getPanes().overlayLayer.appendChild(n),qq.maps.event.addListener(this.map,"bounds_changed",function(){t.resize(),t.draw()}),this.constructed=!0},r.prototype.destory=function(){this.canvas.parentElement.removeChild(this.canvas),this.changeHandler&&(qq.maps.event.removeListener(this.changeHandler),this.changeHandler=null),this.canvas=null},r.prototype.repositionCanvas=function(){if(this.map){var t=this.map.getBounds(),e=new qq.maps.LatLng(t.getNorthEast().getLat(),t.getSouthWest().getLng()),n=this.getProjection().fromLatLngToDivPixel(e);this.canvas.style[r.CSS_TRANSFORM]="translate(".concat(Math.round(n.x),"px, ").concat(Math.round(n.y),"px)")}},r.prototype.draw=function(){this.options.update&&this.options.update.call(this)},r.prototype.resize=function(){if(this.map&&this.canvas){var t=(0,o.getMapSize)(this.map),e=t.width,n=t.height,r=this.canvas,a=this.devicePixelRatio=i.devicePixelRatio||1;r.width=e*a,r.height=n*a,"2d"===this.context&&r.getContext(this.context).scale(a,a),e===this.width&&n===this.height||(r.style.width="".concat(e,"px"),r.style.height="".concat(n,"px"),this.repositionCanvas())}},r.prototype.getContainer=function(){return this.canvas},r.prototype.show=function(){this.canvas.style.display=""},r.prototype.hide=function(){this.canvas.style.display="none"},r.prototype.setZIndex=function(t){this.zIndex=t,this.canvas.style.zIndex=this.zIndex},r.prototype.getZIndex=function(){return this.zIndex};var a=r;e.default=a},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},s=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,n=o.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||o.call(t,e)},c=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!o.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,n,o,r,i,a,f=arguments[0],p=1,h=arguments.length,d=!1;for("boolean"==typeof f&&(d=f,f=arguments[1]||{},p=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});p<h;++p)if(null!=(e=arguments[p]))for(n in e)o=l(f,n),f!==(r=l(e,n))&&(d&&r&&(s(r)||(i=u(r)))?(i?(i=!1,a=o&&u(o)?o:[]):a=o&&s(o)?o:{},c(f,{name:n,newValue:t(d,a,r)})):void 0!==r&&c(f,{name:n,newValue:r}));return f}}])});